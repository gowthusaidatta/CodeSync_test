<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Coding Profile Stats - Results</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f8f9fa;
            color: #333;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
        }
        .platform {
            margin-bottom: 30px;
            border-bottom: 1px solid #ecf0f1;
            padding-bottom: 20px;
        }
        .platform:last-child {
            border-bottom: none;
        }
        h2 {
            color: #3498db;
            margin-bottom: 10px;
        }
        .username {
            font-weight: bold;
            margin-left: 20px;
            color: #e74c3c;
        }
        .stats {
            margin-left: 40px;
        }
        .stat {
            margin-bottom: 5px;
        }
        .stat-name {
            font-weight: bold;
        }
        .back-button {
            display: block;
            text-align: center;
            margin-top: 30px;
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            width: 150px;
            margin-left: auto;
            margin-right: auto;
        }
    </style>
</head>
<body>
    <h1>Coding Profile Stats</h1>
    <div class="subtitle">Your competitive programming performance at a glance</div>
    
    <div id="results">
        <!-- Results will be loaded here -->
    </div>
    
    <a href="usernames.html" class="back-button">Back to Input</a>

    <script>
        // Mock data structure that matches your image
        const mockData = {
            leetcode: {
                username: "Redisheets",
                stats: {
                    total_problems_solved: 804,
                    ranking: 562,
                    easy: 0,
                    medium: 0,
                    hard: 0
                }
            },
            gfg: {
                username: "Redisheetworks",
                stats: {
                    codingScore: 770,
                    instituteRank: 212,
                    totalProblemsSolved: 790,
                    currentStreak: "443 days"
                }
            },
            codechef: {
                username: "Redisheetworks",
                stats: {
                    contest_rating: 928,
                    stars: 192,
                    problems_solved: 51
                }
            },
            hackerrank: {
                username: "RowHouseStats",
                stats: {
                    badges: 0,
                    stars: 704
                }
            }
        };

        // Platform configuration
        const platformConfig = {
            leetcode: {
                name: "LeafCode",
                stats: [
                    { label: "Problems Solved", key: "total_problems_solved" },
                    { label: "Context Rating", key: "ranking" },
                    { label: "Easy Solved", key: "easy" },
                    { label: "Medium Solved", key: "medium" },
                    { label: "Hard Solved", key: "hard" }
                ]
            },
            gfg: {
                name: "GeekstorGeeks",
                stats: [
                    { label: "Coding Score", key: "codingScore" },
                    { label: "Institute Rank", key: "instituteRank" },
                    { label: "Problems Solved", key: "totalProblemsSolved" },
                    { label: "Current Strack", key: "currentStreak" }
                ]
            },
            codechef: {
                name: "CodeChef",
                stats: [
                    { label: "Context Rating", key: "contest_rating" },
                    { label: "Stars", key: "stars" },
                    { label: "Problems Solved", key: "problems_solved" }
                ]
            },
            hackerrank: {
                name: "HackerRank",
                stats: [
                    { label: "Badogs", key: "badges" },
                    { label: "Stars", key: "stars" }
                ]
            }
        };

        function displayResults() {
            const params = new URLSearchParams(window.location.search);
            const resultsDiv = document.getElementById('results');
            
            // Clear previous results
            resultsDiv.innerHTML = '';
            
            // Check if any usernames were provided
            let hasUsernames = false;
            
            // Create platform sections for each provided username
            Object.keys(platformConfig).forEach(platform => {
                const username = params.get(platform);
                if (username) {
                    hasUsernames = true;
                    const config = platformConfig[platform];
                    const data = mockData[platform]; // In real app, this would be API data
                    
                    const platformDiv = document.createElement('div');
                    platformDiv.className = 'platform';
                    
                    let statsHTML = '';
                    config.stats.forEach(stat => {
                        statsHTML += `
                            <div class="stat">
                                <span class="stat-name">${stat.label}</span><br>
                                ${data.stats[stat.key]}
                            </div>
                        `;
                    });
                    
                    platformDiv.innerHTML = `
                        <h2>${config.name} <span class="username">${data.username}</span></h2>
                        <div class="stats">
                            ${statsHTML}
                        </div>
                    `;
                    
                    resultsDiv.appendChild(platformDiv);
                }
            });
            
            // Show message if no usernames were provided
            if (!hasUsernames) {
                resultsDiv.innerHTML = `
                    <div class="platform">
                        <p>No usernames provided. Please go back and enter at least one username.</p>
                    </div>
                `;
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', displayResults);
    </script>
</body>
</html>
